{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = \"feedback-form-state\"\n\nconst form = document.querySelector(\".feedback-form\");\n\nconst formData = loadFormFromLS()\n\nform.addEventListener(\"input\", handleInput);\nform.addEventListener(\"submit\", handleSubmit);\n\nfunction handleInput(event) {\n    const form = event.currentTarget;\n    const targetInput = event.target;\n\n    formData[targetInput.name] = targetInput.value.trim()\n\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formData))\n}\n\nfunction handleSubmit(event) {\n    event.preventDefault()\n\n    if (!formData.email || !formData.message) {\n        alert(\"Fill please all fields\")\n        return\n    }\n\n    console.log(formData)\n    clearFormData(event.currentTarget)\n\n}\n\n\nfunction loadFormFromLS() {\n\n    const formDataLS = localStorage.getItem(STORAGE_KEY)\n\n    if (formDataLS) {\n        const savedData = JSON.parse(formDataLS)\n\n        fillForm(form, savedData)\n\n        return savedData\n    }\n\n    return { email: \"\", message: \"\" };\n\n}\n\n\nfunction fillForm(form, { email, message }) {\n    form.elements.email.value = email\n    form.elements.message.value = message\n}\n\nfunction clearFormData(form) {\n    localStorage.removeItem(STORAGE_KEY);\n    formData.email = \"\"\n    formData.message = \"\"\n    form.reset()\n}"],"names":["STORAGE_KEY","form","formData","loadFormFromLS","handleInput","handleSubmit","event","targetInput","clearFormData","formDataLS","savedData","fillForm","email","message"],"mappings":"oDAAA,MAAMA,EAAc,sBAEdC,EAAO,SAAS,cAAc,gBAAgB,EAE9CC,EAAWC,EAAgB,EAEjCF,EAAK,iBAAiB,QAASG,CAAW,EAC1CH,EAAK,iBAAiB,SAAUI,CAAY,EAE5C,SAASD,EAAYE,EAAO,CACXA,EAAM,cACnB,MAAMC,EAAcD,EAAM,OAE1BJ,EAASK,EAAY,IAAI,EAAIA,EAAY,MAAM,KAAM,EAErD,aAAa,QAAQP,EAAa,KAAK,UAAUE,CAAQ,CAAC,CAC9D,CAEA,SAASG,EAAaC,EAAO,CAGzB,GAFAA,EAAM,eAAgB,EAElB,CAACJ,EAAS,OAAS,CAACA,EAAS,QAAS,CACtC,MAAM,wBAAwB,EAC9B,MACH,CAED,QAAQ,IAAIA,CAAQ,EACpBM,EAAcF,EAAM,aAAa,CAErC,CAGA,SAASH,GAAiB,CAEtB,MAAMM,EAAa,aAAa,QAAQT,CAAW,EAEnD,GAAIS,EAAY,CACZ,MAAMC,EAAY,KAAK,MAAMD,CAAU,EAEvC,OAAAE,EAASV,EAAMS,CAAS,EAEjBA,CACV,CAED,MAAO,CAAE,MAAO,GAAI,QAAS,EAAE,CAEnC,CAGA,SAASC,EAASV,EAAM,CAAE,MAAAW,EAAO,QAAAC,CAAO,EAAI,CACxCZ,EAAK,SAAS,MAAM,MAAQW,EAC5BX,EAAK,SAAS,QAAQ,MAAQY,CAClC,CAEA,SAASL,EAAcP,EAAM,CACzB,aAAa,WAAWD,CAAW,EACnCE,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnBD,EAAK,MAAO,CAChB"}